---
title: Cart
---
  <ion-tab tab="cart">
    <div id="cart-page">
      <ion-header>
        <ion-toolbar>
          <ion-title id="header">{{ site.title }}</ion-title>
        </ion-toolbar>
      </ion-header>
      <ion-content class="ion-padding" fullscreen="true">
		<div class="container">
               {% include keranjang.html %}
		</div>
      </ion-content>
    </div>
  </ion-tab>

<ion-modal class="custom-fullscreen" id="checkoutModal"></ion-modal>

<script>
async function openCheckoutModal() {
  const user = firebase.auth().currentUser;
	
  if (!user || !user.emailVerified) {
    showAlert("Harap login dan verifikasi email sebelum checkout.", "⚠");
    return;
  }
  
	console.log(user.uid);

  const userDoc = await firebase.firestore().collection('users').doc(user.uid).get();
  const userData = userDoc.exists ? userDoc.data() : {};

  const modal = document.getElementById('checkoutModal');

  modal.innerHTML = `
    <ion-header translucent>
      <ion-toolbar>
        <ion-title>Checkout</ion-title>
        <ion-buttons slot="end">
          <ion-button onclick="xModal()">
            <ion-icon slot="icon-only" name="close-circle-outline"></ion-icon>
          </ion-button>
        </ion-buttons>
      </ion-toolbar>
    </ion-header>

    <ion-content class="ion-no-padding">
      <div class="container">
        <ion-card>
          <ion-card-content>
            <form id="checkout-form">
              <ion-item>
                <ion-label position="stacked">First Name</ion-label>
                <ion-input name="first_name" required value="${userData.first_name || ''}"></ion-input>
              </ion-item>

              <ion-item>
                <ion-label position="stacked">Last Name</ion-label>
                <ion-input name="last_name" required value="${userData.last_name || ''}"></ion-input>
              </ion-item>

              <ion-item>
                <ion-label position="stacked">Email</ion-label>
                <ion-input name="email" type="email" value="${user.email}" required readonly></ion-input>
              </ion-item>
			  
			<ion-item>
			  <ion-label position="stacked">Street</ion-label>
			  <ion-input name="street" required value="${userData.street || ''}"></ion-input>
			</ion-item>

			<ion-item>
			  <ion-label position="stacked">City</ion-label>
			  <ion-input name="city" required value="${userData.city || ''}"></ion-input>
			</ion-item>

			<ion-item>
			  <ion-label position="stacked">State</ion-label>
			  <ion-input name="state" required value="${userData.state || ''}"></ion-input>
			</ion-item>

			<ion-item>
			  <ion-label position="stacked">Zip Code</ion-label>
			  <ion-input name="zip_code" required value="${userData.postal_code || ''}"></ion-input>
			</ion-item>

              <input type="text" name="_gotcha" style="display:none;">

              <ion-button expand="block" id="pay-button" type="button">Bayar</ion-button>
            </form>
          </ion-card-content>
        </ion-card>
      </div>
    </ion-content>
  `;

  await modal.present();

  setTimeout(() => {
    const form = document.getElementById('checkout-form');
    const payButton = document.getElementById('pay-button');

    if (!form || !payButton) return;

    payButton.addEventListener('click', function () {
      const formData = new FormData(form);

      if (formData.get('_gotcha')) return;

function _0x1623(){const _0x15e23a=['KIVPz','153GQrtgJ','fzWmN','OIIsx','NjbrM','length','toString','ElnMi','1891070zpHKVR','constructo','state','hkVxm','935232GKZSZT','yLhNP','nvaTc','last_name','(((.+)+)+)','trace','jhhcC','4wXVaYw','435737ZhZJzn','return\x20(fu','drcXF','rn\x20this\x22)(','nmWIx','street','WJMjh','email','SDYwN','first_name','log','bind','wmBgf','error','yYFVy','get','gFtfM','906310iYnEbB','{}.constru','haacq','waekZ','zip_code','cLPJJ','nction()\x20','warn','KrOdI','385970vKkiZX','drebC','yVnhI','xfmiT','115312feOHhq','RKBqm','console','search','NNfrM','exception','apply','12GvhNrU','757078WIWvVp','YiOWW','ctor(\x22retu','table'];_0x1623=function(){return _0x15e23a;};return _0x1623();}(function(_0x9b69a2,_0x34e7bf){const _0x19e6c7=_0x9b69a2();function _0x791a64(_0x2051db,_0x4d7129,_0x3909cf,_0x1e0679){return _0x5d7e(_0x2051db- -0x398,_0x4d7129);}function _0x2ba006(_0x9ba2bf,_0x45f9c4,_0x57769c,_0x1911ab){return _0x5d7e(_0x45f9c4-0x3a6,_0x57769c);}while(!![]){try{const _0x47785f=parseInt(_0x2ba006(0x584,0x59a,0x593,0x58e))/(0x3*0xc3d+0xba7+0x1*-0x305d)+-parseInt(_0x2ba006(0x5c5,0x5ab,0x5b2,0x59e))/(0x1d05+0x1e83+-0x3b86)+-parseInt(_0x2ba006(0x590,0x592,0x5a9,0x595))/(0x21d0+0x69f+0xd*-0x31c)+-parseInt(_0x791a64(-0x1a5,-0x18a,-0x187,-0x1a2))/(-0x6ad*-0x2+-0x1*0x1838+0xae2)*(parseInt(_0x791a64(-0x18a,-0x170,-0x186,-0x1a6))/(-0x1acc+0xa3e+-0x1093*-0x1))+-parseInt(_0x791a64(-0x17f,-0x170,-0x197,-0x198))/(-0xddd+0xfe7+-0x204)*(-parseInt(_0x791a64(-0x17e,-0x18e,-0x189,-0x19d))/(-0x5ad*0x2+-0x38*-0x92+-0x148f))+-parseInt(_0x791a64(-0x186,-0x17c,-0x185,-0x169))/(0xab3+0x9e0+-0x148b)*(-parseInt(_0x791a64(-0x1b7,-0x1d0,-0x1d1,-0x1b2))/(-0x33*0x4c+-0x1b06+-0x27*-0x115))+parseInt(_0x791a64(-0x1b0,-0x1c8,-0x199,-0x1ab))/(-0x2f*-0x80+-0x4*-0x1c9+0x1e9a*-0x1);if(_0x47785f===_0x34e7bf)break;else _0x19e6c7['push'](_0x19e6c7['shift']());}catch(_0x57430b){_0x19e6c7['push'](_0x19e6c7['shift']());}}}(_0x1623,0x4f033+-0x382a+0x1fd1*-0x8));const _0x25e01e=(function(){const _0x54f5c6={};_0x54f5c6[_0x441ea8(-0x103,-0xf3,-0xfa,-0x112)]=_0x3340bb(0x5d0,0x5b2,0x597,0x5b2)+'+$',_0x54f5c6[_0x3340bb(0x5ce,0x5cf,0x5b9,0x5d5)]=function(_0x280c86,_0x364ad2){return _0x280c86!==_0x364ad2;},_0x54f5c6[_0x3340bb(0x5b2,0x59b,0x5a8,0x5b0)]=_0x3340bb(0x5d9,0x5c5,0x5a5,0x5c4);function _0x3340bb(_0x1d9470,_0x12f023,_0x358847,_0x488848){return _0x5d7e(_0x488848-0x3c2,_0x358847);}_0x54f5c6['ElnMi']='rrRHG';const _0x397c7f=_0x54f5c6;let _0x468fe5=!![];function _0x441ea8(_0x5be123,_0x5a3680,_0x32f228,_0x18a8e1){return _0x5d7e(_0x5a3680- -0x2d3,_0x32f228);}return function(_0xb3ebbe,_0x7d9e17){const _0x6fb255={'sMrZz':_0x397c7f[_0x1e4589(-0x70,-0x81,-0x6f,-0x65)],'fzWmN':function(_0x1d5e56,_0x27deed){function _0x5f3a2d(_0x3d8f29,_0x5d8b41,_0x6e9dec,_0x2bb0eb){return _0x1e4589(_0x3d8f29-0x1d8,_0x5d8b41-0x1c2,_0x6e9dec,_0x5d8b41-0x82);}return _0x397c7f[_0x5f3a2d(0x4b,0x50,0x48,0x6e)](_0x1d5e56,_0x27deed);},'waekZ':_0x397c7f[_0x4a4538(0x341,0x329,0x32d,0x317)],'wmBgf':_0x397c7f[_0x1e4589(-0x5a,-0x6d,-0x69,-0x5e)]},_0x2bc2bb=_0x468fe5?function(){function _0x4fe794(_0x30a678,_0x46eda0,_0x3e64c3,_0x59b1a3){return _0x4a4538(_0x30a678-0x40,_0x30a678,_0x46eda0- -0x3dd,_0x59b1a3-0x1da);}function _0x5d2f74(_0x2ec60a,_0x5a6743,_0x253688,_0x3c9579){return _0x1e4589(_0x2ec60a-0x187,_0x5a6743-0x92,_0x253688,_0x5a6743-0x30e);}if(_0x7d9e17){if(_0x6fb255[_0x4fe794(-0xc4,-0xbc,-0x9e,-0xb5)](_0x6fb255[_0x5d2f74(0x2ed,0x2d1,0x2e6,0x2bd)],_0x6fb255[_0x4fe794(-0xb1,-0x9e,-0x9a,-0xad)])){const _0x930fae=_0x7d9e17['apply'](_0xb3ebbe,arguments);return _0x7d9e17=null,_0x930fae;}else return _0x474030[_0x4fe794(-0xa8,-0xb8,-0x9a,-0xa4)]()[_0x5d2f74(0x2c1,0x2de,0x2fd,0x2c6)]('(((.+)+)+)'+'+$')[_0x4fe794(-0xb5,-0xb8,-0x9f,-0xd3)]()[_0x4fe794(-0xa4,-0xb5,-0xd0,-0xc6)+'r'](_0x3e8dc4)['search'](_0x6fb255['sMrZz']);}}:function(){};_0x468fe5=![];function _0x4a4538(_0x3a7f80,_0x3f91f2,_0x579a23,_0x3ad6ce){return _0x441ea8(_0x3a7f80-0x14e,_0x579a23-0x412,_0x3f91f2,_0x3ad6ce-0xe);}function _0x1e4589(_0x3307a0,_0x39c8a1,_0x25323b,_0xcc56e0){return _0x441ea8(_0x3307a0-0x1d0,_0xcc56e0-0x8e,_0x25323b,_0xcc56e0-0xfc);}return _0x2bc2bb;};}()),_0x1b056e=_0x25e01e(this,function(){const _0x4b7e33={};function _0x2982b9(_0x369c1,_0x3e503f,_0x42e769,_0x55395d){return _0x5d7e(_0x369c1-0x1d6,_0x42e769);}_0x4b7e33[_0x3bae41(0x28c,0x26d,0x283,0x27d)]=_0x2982b9(0x3c6,0x3be,0x3cd,0x3bc)+'+$';const _0x258ddb=_0x4b7e33;function _0x3bae41(_0x4dbae8,_0x20e3e6,_0x6a72d4,_0x1c421f){return _0x5d7e(_0x6a72d4-0x73,_0x1c421f);}return _0x1b056e[_0x3bae41(0x23e,0x245,0x259,0x256)]()[_0x3bae41(0x28b,0x28b,0x288,0x277)](_0x258ddb[_0x3bae41(0x274,0x28b,0x283,0x27a)])[_0x3bae41(0x23a,0x272,0x259,0x23e)]()[_0x2982b9(0x3bf,0x3cf,0x3dd,0x3ce)+'r'](_0x1b056e)[_0x2982b9(0x3eb,0x3e5,0x3e8,0x3f1)](_0x258ddb[_0x2982b9(0x3e6,0x3eb,0x3d3,0x3f1)]);});_0x1b056e();function _0x33fe13(_0x4459ee,_0x1d4b90,_0x45094b,_0x3b0e91){return _0x5d7e(_0x1d4b90- -0xb1,_0x3b0e91);}function _0x5d7e(_0x25e01e,_0x162367){const _0x5d7e2d=_0x1623();return _0x5d7e=function(_0x1bdb3f,_0x5c9f3a){_0x1bdb3f=_0x1bdb3f-(0x1*-0x1942+0x67*0x18+-0x11*-0x107);let _0x3241a3=_0x5d7e2d[_0x1bdb3f];return _0x3241a3;},_0x5d7e(_0x25e01e,_0x162367);}const _0x39286c=(function(){function _0x147eae(_0x5111cf,_0x14eb5a,_0x49b39f,_0xa6a074){return _0x5d7e(_0x5111cf-0x1f3,_0x14eb5a);}const _0x36b2c8={};_0x36b2c8[_0x147eae(0x402,0x3ed,0x3e7,0x40a)]='wFIVd';const _0x18167d=_0x36b2c8;let _0x299765=!![];return function(_0x5628a6,_0x34d07b){const _0x182160={};_0x182160[_0x1aea73(0x19,0x38,0x35,0x30)]=_0x1aea73(0x45,0x1b,0x2e,0x4a);function _0x5d3454(_0x241a1d,_0x33d25d,_0x209aed,_0x28a1a5){return _0x147eae(_0x241a1d-0x116,_0x209aed,_0x209aed-0x4f,_0x28a1a5-0x1eb);}_0x182160[_0x5d3454(0x4ed,0x4fb,0x506,0x4f8)]=_0x18167d['drebC'];function _0x1aea73(_0x13b871,_0x224d97,_0xfed01f,_0xac459a){return _0x147eae(_0xfed01f- -0x3cf,_0x224d97,_0xfed01f-0x11e,_0xac459a-0x47);}const _0x4d50f1=_0x182160,_0x1f66fa=_0x299765?function(){function _0x8d6bdb(_0x35f08b,_0x5a0796,_0x1d9a1b,_0x31d525){return _0x1aea73(_0x35f08b-0x16b,_0x35f08b,_0x5a0796- -0x1f2,_0x31d525-0x132);}function _0x17a372(_0xa0c770,_0x1b2f76,_0x21a80e,_0x55132e){return _0x5d3454(_0x1b2f76- -0x291,_0x1b2f76-0x173,_0xa0c770,_0x55132e-0xcc);}if(_0x4d50f1[_0x8d6bdb(-0x1d0,-0x1bd,-0x1db,-0x19e)]!==_0x4d50f1[_0x17a372(0x275,0x25c,0x249,0x254)]){if(_0x34d07b){const _0x1ac2d8=_0x34d07b[_0x8d6bdb(-0x1ba,-0x1b6,-0x19e,-0x1ab)](_0x5628a6,arguments);return _0x34d07b=null,_0x1ac2d8;}}else{if(_0x59022d){const _0x3757fb=_0x319926['apply'](_0x4cb99e,arguments);return _0x3a78dc=null,_0x3757fb;}}}:function(){};return _0x299765=![],_0x1f66fa;};}()),_0x31d880=_0x39286c(this,function(){const _0x4475f3={'YiOWW':_0x45514e(0x1ea,0x1c7,0x1e3,0x1d5),'KrOdI':function(_0x5cf888,_0x422634){return _0x5cf888(_0x422634);},'NNfrM':_0x45514e(0x1f7,0x1fd,0x1e2,0x1c5)+_0x45514e(0x1e5,0x1fe,0x1f8,0x20d),'SDYwN':_0x45514e(0x1f0,0x204,0x1f3,0x1d8)+_0x45514e(0x1da,0x1de,0x1cb,0x1d4)+_0x35ec36(-0x6e,-0x65,-0x75,-0x53)+'\x20)','eYZkR':_0x35ec36(-0x42,-0x58,-0x53,-0x5c),'haacq':function(_0x244c05){return _0x244c05();},'nmWIx':'info','OIIsx':_0x45514e(0x1e0,0x1f9,0x1ee,0x1ee),'ovjBW':_0x45514e(0x1b1,0x1bf,0x1cc,0x1bb),'yLhNP':function(_0x47b071,_0x48b90f){return _0x47b071<_0x48b90f;},'jhhcC':_0x45514e(0x1f3,0x1de,0x1e7,0x1dd)},_0x13b5e6=function(){function _0x370075(_0x12b3e4,_0x118cdb,_0xc0c844,_0x5137e1){return _0x35ec36(_0x12b3e4-0x18c,_0x118cdb- -0x7f,_0x5137e1,_0x5137e1-0x1ba);}function _0x2297b7(_0x39e5c5,_0x408681,_0x29e0b1,_0x1febb7){return _0x35ec36(_0x39e5c5-0xb,_0x1febb7-0x18f,_0x39e5c5,_0x1febb7-0x14b);}if(_0x4475f3[_0x2297b7(0x12b,0x10b,0x12b,0x110)]===_0x4475f3['YiOWW']){let _0x461e4e;try{_0x461e4e=_0x4475f3[_0x2297b7(0x141,0x125,0x14b,0x140)](Function,_0x4475f3[_0x2297b7(0x12c,0x12e,0x154,0x149)]+_0x4475f3[_0x2297b7(0x125,0x138,0x13e,0x12f)]+');')();}catch(_0x2a4f78){if('tvIcO'===_0x4475f3['eYZkR']){const _0x539ed0=_0x15bd7a?function(){function _0x1d5d80(_0x2c1bdc,_0x4a41a5,_0x5653eb,_0xec22d4){return _0x2297b7(_0xec22d4,_0x4a41a5-0x13a,_0x5653eb-0x20,_0x2c1bdc-0x323);}if(_0x34c112){const _0x2d0706=_0x3428c3[_0x1d5d80(0x46e,0x485,0x457,0x484)](_0x3a4501,arguments);return _0x1f6a60=null,_0x2d0706;}}:function(){};return _0x4201ef=![],_0x539ed0;}else _0x461e4e=window;}return _0x461e4e;}else{if(_0x1d6df2){const _0x48c893=_0x596d97[_0x2297b7(0x15b,0x136,0x12d,0x14b)](_0xe67ee0,arguments);return _0x52687d=null,_0x48c893;}}},_0x5a4b5e=_0x4475f3[_0x35ec36(-0x6a,-0x55,-0x5a,-0x73)](_0x13b5e6);function _0x35ec36(_0x261b57,_0x4b70e3,_0x59c61a,_0x4b847e){return _0x5d7e(_0x4b70e3- -0x25c,_0x59c61a);}function _0x45514e(_0x420f7d,_0x2b6abd,_0x26be0a,_0x54500a){return _0x5d7e(_0x26be0a- -0x13,_0x2b6abd);}const _0x451857=_0x5a4b5e[_0x45514e(0x21e,0x1f2,0x201,0x214)]=_0x5a4b5e['console']||{},_0x16538e=[_0x35ec36(-0x7a,-0x5e,-0x74,-0x78),_0x45514e(0x1f5,0x1ea,0x1f9,0x202),_0x4475f3[_0x45514e(0x1f2,0x1cb,0x1e5,0x1fa)],_0x4475f3[_0x35ec36(-0x5d,-0x79,-0x67,-0x63)],_0x45514e(0x21b,0x217,0x204,0x216),_0x4475f3['ovjBW'],_0x35ec36(-0x4c,-0x6b,-0x4f,-0x6c)];for(let _0x5484da=0x4e4+0x143+-0x23*0x2d;_0x4475f3[_0x45514e(0x1e9,0x1c2,0x1da,0x1f2)](_0x5484da,_0x16538e[_0x45514e(0x1c7,0x1c3,0x1d2,0x1e2)]);_0x5484da++){if(_0x35ec36(-0x7a,-0x71,-0x7e,-0x77)!==_0x4475f3[_0x35ec36(-0x6e,-0x6a,-0x55,-0x4b)]){const _0x31abc7=_0x39286c[_0x45514e(0x1e3,0x1e2,0x1d6,0x1e4)+'r']['prototype'][_0x45514e(0x1e6,0x1ce,0x1ec,0x1f2)](_0x39286c),_0x378587=_0x16538e[_0x5484da],_0x21ebd2=_0x451857[_0x378587]||_0x31abc7;_0x31abc7['__proto__']=_0x39286c[_0x35ec36(-0x64,-0x5d,-0x63,-0x52)](_0x39286c),_0x31abc7[_0x45514e(0x1db,0x1eb,0x1d3,0x1c8)]=_0x21ebd2[_0x45514e(0x1c8,0x1ed,0x1d3,0x1c4)][_0x35ec36(-0x78,-0x5d,-0x55,-0x48)](_0x21ebd2),_0x451857[_0x378587]=_0x31abc7;}else{const _0x61980c=_0xb50615[_0x45514e(0x1ee,0x21d,0x205,0x200)](_0x10d7b6,arguments);return _0x2c56f8=null,_0x61980c;}}});_0x31d880();function _0x410f86(_0x36ed76,_0x59c6cc,_0x5e35ef,_0x373ec1){return _0x5d7e(_0x373ec1-0x174,_0x5e35ef);}const buyer={'first_name':formData[_0x33fe13(0x157,0x152,0x13f,0x14a)](_0x410f86(0x384,0x375,0x375,0x371)),'last_name':formData[_0x410f86(0x37b,0x37b,0x364,0x377)](_0x410f86(0x346,0x351,0x36e,0x363)),'email':formData['get'](_0x33fe13(0x131,0x14a,0x169,0x165)),'address':{'street':formData['get'](_0x33fe13(0x146,0x148,0x162,0x15e)),'city':formData['get']('city'),'state':formData[_0x33fe13(0x143,0x152,0x141,0x143)](_0x33fe13(0x136,0x139,0x13a,0x158)),'postal_code':formData['get'](_0x33fe13(0x164,0x158,0x173,0x16d))}};
	  
firebase.auth().onAuthStateChanged((user) => {
  if (user) {
    saveOrder();
  }
});

async function saveOrder() {
  const db = firebase.firestore();
  try {
    const user = firebase.auth().currentUser;
    if (!user) {
      console.error("User belum login");
      return;
    }

    const cartItems = simpleCart.items();
    const items = cartItems.map(item => ({
      id: item.get('id') || item.get('name'),
      name: item.get('name'),
      quantity: item.get('quantity'),
      price: item.get('price'),
      model: item.get('model'),
      color: item.get('color'),
      thumb: item.get('thumb'),
      link: item.get('link')
    }));

    const total = simpleCart.total();

    const coinsEarned = Math.floor(total / 10000);

    // Ambil data user dari Firestore
    const userDocRef = db.collection("users").doc(user.uid);
    const userSnap = await userDocRef.get();

    let currentCoins = 0;
    let currentLevel = "🥉 Beginner";

    if (userSnap.exists) {
      const userData = userSnap.data();
      currentCoins = userData.coins || 0;
      currentLevel = userData.level || "🥉 Beginner";
    }

    const updatedCoins = currentCoins + coinsEarned;

    // Tentukan level berdasarkan total coins
    let newLevel = "🥉 Beginner";
    if (updatedCoins >= 500) {
      newLevel = "🥇 Gold";
    } else if (updatedCoins >= 100) {
      newLevel = "🥈 Silver";
    }

    // 🔥 Simpan order ke Firestore
    const orderRef = db.collection("users").doc(user.uid).collection("orders").doc();
    const orderId = orderRef.id;

(function(_0x355dd7,_0x1b53c0){var _0x56e2c8=_0x355dd7();function _0x1cbcc7(_0x424f96,_0x487d06,_0x408127,_0x12cd57){return _0x11f8(_0x487d06- -0x43,_0x12cd57);}function _0x4fabea(_0x3a1d71,_0x17a250,_0xff0fab,_0x2a8ce2){return _0x11f8(_0x3a1d71-0x3a2,_0xff0fab);}while(!![]){try{var _0x50bff3=parseInt(_0x4fabea(0x4bd,0x4d7,0x4a2,0x4c2))/(0x232b+0x215d*0x1+-0x1*0x4487)*(parseInt(_0x4fabea(0x4b7,0x4a9,0x4cc,0x4c4))/(-0x1f15+-0x14ca+-0x2bb*-0x13))+parseInt(_0x4fabea(0x4ca,0x4bb,0x4b3,0x4cd))/(0xb0+0x936+-0x1*0x9e3)*(parseInt(_0x1cbcc7(0xcf,0xdc,0xc4,0xdc))/(0x8*0x56+0xa20+0x666*-0x2))+parseInt(_0x1cbcc7(0x10c,0xed,0xe8,0xd3))/(0x13b4+-0x171b+0x3*0x124)*(parseInt(_0x4fabea(0x4cb,0x4c5,0x4cd,0x4d8))/(0x1b*-0x149+0x1*-0x602+0x28bb))+-parseInt(_0x4fabea(0x4d6,0x4be,0x4c2,0x4be))/(0x1b56+-0x131+-0x1a1e*0x1)+parseInt(_0x4fabea(0x4a5,0x48b,0x4b4,0x49a))/(0x4d*0x1+-0x12a0+0x125b)+-parseInt(_0x4fabea(0x4c5,0x4ca,0x4e1,0x4b8))/(0x20d0+-0x17dd+-0x8ea)*(-parseInt(_0x1cbcc7(0xba,0xd6,0xd1,0xc4))/(-0x1f20+-0x1824+-0x1*-0x374e))+-parseInt(_0x4fabea(0x4d8,0x4d4,0x4e1,0x4f5))/(-0x1e87+-0x662+0x24f4);if(_0x50bff3===_0x1b53c0)break;else _0x56e2c8['push'](_0x56e2c8['shift']());}catch(_0x406cb9){_0x56e2c8['push'](_0x56e2c8['shift']());}}}(_0x4d2e,0x9*-0x4fe9+-0x64312+0x14a4d9));var _0x5d1473=(function(){var _0x49776e={};_0x49776e[_0x3f4549(0x4ef,0x4d7,0x4cf,0x4d4)]='4|1|5|3|0|'+'2',_0x49776e['qJGgH']=function(_0x1c526a,_0x423bbc){return _0x1c526a+_0x423bbc;},_0x49776e[_0x8c4400(-0x1f3,-0x1f4,-0x1ee,-0x1f0)]='return\x20(fu'+'nction()\x20',_0x49776e[_0x8c4400(-0x203,-0x1f4,-0x207,-0x21c)]=function(_0x825a77,_0x4d60d1){return _0x825a77===_0x4d60d1;};function _0x8c4400(_0x172d11,_0x2b496c,_0x3f8925,_0xd961af){return _0x11f8(_0x172d11- -0x2ff,_0xd961af);}_0x49776e['QmEnY']=function(_0x95af31,_0x240782){return _0x95af31===_0x240782;},_0x49776e[_0x3f4549(0x4da,0x4d1,0x4c5,0x4be)]='qsKLL',_0x49776e[_0x8c4400(-0x1f8,-0x20e,-0x200,-0x207)]=_0x8c4400(-0x1cc,-0x1bf,-0x1bc,-0x1b1);var _0x2f14ff=_0x49776e,_0xbf3b9a=!![];function _0x3f4549(_0xc43be4,_0x106722,_0x210630,_0x44fc1f){return _0x11f8(_0xc43be4-0x3db,_0x210630);}return function(_0x2cc933,_0x4a6709){function _0x47d539(_0x2a300c,_0x3c92f3,_0x5f165b,_0x1eab00){return _0x3f4549(_0x1eab00- -0x674,_0x3c92f3-0x2e,_0x5f165b,_0x1eab00-0xe2);}function _0x1d3781(_0x188cd8,_0x2b910b,_0x2c3a3b,_0x304bd1){return _0x8c4400(_0x2b910b-0x1bd,_0x2b910b-0x25,_0x2c3a3b-0xb3,_0x188cd8);}var _0x435a5d={'QjeeZ':function(_0x153fd5,_0x30896f){return _0x153fd5(_0x30896f);},'qqNlC':function(_0x233ed3,_0x320f92){function _0xf00735(_0x57a007,_0x58df59,_0x104122,_0x49d390){return _0x11f8(_0x58df59-0x1f4,_0x104122);}return _0x2f14ff[_0xf00735(0x330,0x319,0x336,0x32f)](_0x233ed3,_0x320f92);},'SMBhv':function(_0x1ec9d7,_0x2bed6d){return _0x1ec9d7+_0x2bed6d;},'IEOes':_0x2f14ff[_0x1d3781(-0x19,-0x36,-0x56,-0x39)],'PXOMf':_0x1d3781(-0x37,-0x17,-0x34,-0x1d)+'ctor(\x22retu'+_0x1d3781(-0x9,-0xb,-0x17,-0x13)+'\x20)','REFfe':function(_0x2954b3){return _0x2954b3();},'yFgwY':function(_0x1b7cb6,_0x50cb19){return _0x2f14ff['OFRCp'](_0x1b7cb6,_0x50cb19);},'qmPGH':_0x47d539(-0x1a1,-0x16d,-0x168,-0x183),'Byupn':function(_0x295efa,_0x12b2e9){return _0x2f14ff['QmEnY'](_0x295efa,_0x12b2e9);},'FUSRA':_0x2f14ff[_0x1d3781(-0x43,-0x43,-0x4c,-0x4d)]};if(_0x2f14ff['qlpHL']!==_0x47d539(-0x16f,-0x17e,-0x150,-0x166)){var _0x2c6994=_0x2f14ff[_0x1d3781(-0x32,-0x2e,-0xd,-0x45)]['split']('|'),_0x4726f9=0x198a+0xbd*0x1d+-0x2ef3;while(!![]){switch(_0x2c6994[_0x4726f9++]){case'0':_0x43f2be[_0x47d539(-0x178,-0x1ad,-0x1a2,-0x199)]=_0x1c7931['toString'][_0x47d539(-0x17f,-0x16a,-0x14b,-0x16a)](_0x1c7931);continue;case'1':var _0x4d57c7=_0xe26d1c[_0x23b734];continue;case'2':_0x5951c5[_0x4d57c7]=_0x43f2be;continue;case'3':_0x43f2be[_0x1d3781(-0x1a,-0x25,-0xa,-0x17)]=_0x33ef20['bind'](_0xd5f088);continue;case'4':var _0x43f2be=_0x22f24b[_0x1d3781(-0x43,-0x28,-0x13,-0xe)+'r'][_0x47d539(-0x187,-0x171,-0x14f,-0x167)][_0x1d3781(0x6,-0x13,-0x14,-0x26)](_0x1847e7);continue;case'5':var _0x1c7931=_0x2d546e[_0x4d57c7]||_0x43f2be;continue;}break;}}else{var _0x227805=_0xbf3b9a?function(){function _0x55ae60(_0x1dc072,_0xabcad4,_0x3f923e,_0x40111a){return _0x1d3781(_0x1dc072,_0xabcad4-0x88,_0x3f923e-0x1cc,_0x40111a-0x100);}function _0x3c7101(_0x269c5b,_0x2744d2,_0x325be1,_0x19472c){return _0x47d539(_0x269c5b-0x1c0,_0x2744d2-0x1ef,_0x19472c,_0x269c5b-0x9b);}if(_0x435a5d['yFgwY'](_0x55ae60(0x73,0x70,0x71,0x70),_0x435a5d['qmPGH'])){var _0x591c1a=_0x435a5d[_0x3c7101(-0xee,-0x10c,-0xf2,-0xed)](_0x134b6b,_0x435a5d[_0x55ae60(0x31,0x40,0x4c,0x33)](_0x435a5d[_0x3c7101(-0xc6,-0xa5,-0xbd,-0xe7)](_0x435a5d['IEOes'],_0x435a5d[_0x55ae60(0x5f,0x54,0x64,0x54)]),');'));_0x3c4362=_0x435a5d[_0x3c7101(-0xe2,-0xd3,-0xde,-0xe0)](_0x591c1a);}else{if(_0x4a6709){if(_0x435a5d[_0x55ae60(0x58,0x6c,0x8d,0x61)](_0x55ae60(0x5f,0x4e,0x3f,0x70),_0x435a5d['FUSRA'])){var _0x43f12c=_0x1a4cd4?function(){function _0x11b9ef(_0x5ae309,_0x39d5c1,_0x55bdd0,_0x2769b9){return _0x3c7101(_0x2769b9- -0xd8,_0x39d5c1-0x1,_0x55bdd0-0x28,_0x5ae309);}if(_0x292db2){var _0x1d4926=_0x3cb544[_0x11b9ef(-0x1ad,-0x1d3,-0x1db,-0x1cb)](_0x58749c,arguments);return _0x4ae85d=null,_0x1d4926;}}:function(){};return _0x30f109=![],_0x43f12c;}else{var _0x132525=_0x4a6709[_0x55ae60(0x3f,0x51,0x4d,0x6b)](_0x2cc933,arguments);return _0x4a6709=null,_0x132525;}}}}:function(){};return _0xbf3b9a=![],_0x227805;}};}());function _0x3d5dd1(_0x507875,_0x5530b7,_0x44acca,_0x1aaeef){return _0x11f8(_0x44acca-0x17,_0x5530b7);}function _0x4d2e(){var _0x5b5d9f=['sqorQ','12146130UrowsN','HqzGQ','qJGgH','Byupn','error','57LDylvl','2545524kEfExp','QSVvO','{}.constru','sZakj','level','info','bind','5IKvGcX','trace','prototype','SdoFI','2061542hTzGZF','nXzde','36191221mPqOyH','rn\x20this\x22)(','SMBhv','qpPLb','split','2|3|5|1|4|','coins','paid','qqNlC','nction()\x20','OFRCp','uid','set','qJVSx','toString','(((.+)+)+)','EEXJk','3281696KGCsMO','MLirC','warn','exception','qlpHL','ohtcG','FieldValue','RXDvU','apply','CBmyr','WDRox','PXOMf','xHoSL','QjeeZ','console','serverTime','ctor(\x22retu','ZRLnU','115574zDaGrA','gwiqy','FzILn','NjZqq','10CxEGBe','constructo','16bHxjdW','REFfe','__proto__','search','259876pRSgln','length','kSFau'];_0x4d2e=function(){return _0x5b5d9f;};return _0x4d2e();}function _0x11f8(_0x3e9d1b,_0x21134e){var _0x5d1473=_0x4d2e();return _0x11f8=function(_0x4d2e46,_0x11f828){_0x4d2e46=_0x4d2e46-(0x2*-0xc1+-0x1253+0x14cc);var _0x3fb182=_0x5d1473[_0x4d2e46];return _0x3fb182;},_0x11f8(_0x3e9d1b,_0x21134e);}function _0x3a04fc(_0x2a0205,_0x264b32,_0x368efe,_0x510b11){return _0x11f8(_0x264b32-0x314,_0x368efe);}var _0x21134e=_0x5d1473(this,function(){function _0x237d39(_0x246f75,_0x29fc79,_0x477cb4,_0x322f73){return _0x11f8(_0x322f73- -0x3bf,_0x29fc79);}function _0x238261(_0x5f5387,_0x1cffd6,_0x23a8ae,_0x195a6b){return _0x11f8(_0x23a8ae-0x3be,_0x195a6b);}return _0x21134e[_0x238261(0x4ca,0x4af,0x4be,0x4d6)]()[_0x238261(0x4fe,0x4f1,0x4dc,0x4e8)](_0x238261(0x4d1,0x4d0,0x4bf,0x4ab)+'+$')[_0x238261(0x4ad,0x4a8,0x4be,0x4d1)]()[_0x238261(0x4fa,0x4b9,0x4d8,0x4ec)+'r'](_0x21134e)[_0x238261(0x4cb,0x4f4,0x4dc,0x4e9)](_0x238261(0x4b4,0x4c2,0x4bf,0x4d1)+'+$');});_0x21134e();var _0x22c906=(function(){var _0x4b6831=!![];return function(_0x4fa0c9,_0x2706c3){var _0x3e1390=_0x4b6831?function(){if(_0x2706c3){var _0x109a3b=_0x2706c3['apply'](_0x4fa0c9,arguments);return _0x2706c3=null,_0x109a3b;}}:function(){};return _0x4b6831=![],_0x3e1390;};}()),_0x471697=_0x22c906(this,function(){var _0x14929e={'VprnH':function(_0x489d34,_0x2d2464){return _0x489d34!==_0x2d2464;},'MLirC':'CuJOB','qpPLb':function(_0x69b70f,_0x18797){return _0x69b70f(_0x18797);},'mrnoS':function(_0x31b972,_0x4b30da){return _0x31b972+_0x4b30da;},'NjZqq':'return\x20(fu'+_0x4e0c6d(0x4a6,0x4b8,0x49f,0x4c1),'xHoSL':_0x4e0c6d(0x4d6,0x4c3,0x4b6,0x4d4)+_0x4fe4b1(0x3af,0x3d0,0x3a9,0x3a5)+_0x4e0c6d(0x4e2,0x4c9,0x4d9,0x4db)+'\x20)','kSFau':function(_0x3c2fbd){return _0x3c2fbd();},'FzILn':'rYgRa','aDacj':'JOabC','WDRox':_0x4fe4b1(0x3a1,0x398,0x3a2,0x3aa),'RXDvU':_0x4e0c6d(0x4d9,0x4d2,0x4eb,0x4c9),'rBstr':_0x4fe4b1(0x3c3,0x3ce,0x3b2,0x3b1),'sZakj':_0x4fe4b1(0x3a2,0x390,0x39d,0x398),'HqzGQ':'table','sqorQ':_0x4fe4b1(0x3cd,0x3bd,0x3ec,0x3e4),'nXzde':function(_0x4b5ff5,_0x272487){return _0x4b5ff5<_0x272487;},'PriFu':_0x4fe4b1(0x393,0x3b4,0x372,0x373)+'0'};function _0x4e0c6d(_0x56e3eb,_0x1f1ad9,_0x51914a,_0x199195){return _0x11f8(_0x56e3eb-0x3ab,_0x51914a);}var _0x2f5bf2;try{if(_0x14929e['VprnH'](_0x14929e[_0x4fe4b1(0x3a0,0x3b8,0x3a4,0x3b7)],_0x4fe4b1(0x39e,0x398,0x392,0x3bb))){var _0x3c8bfe=_0x14929e[_0x4e0c6d(0x4e4,0x4c8,0x4d5,0x4d4)](Function,_0x14929e['mrnoS'](_0x14929e[_0x4fe4b1(0x3b4,0x3cb,0x3bb,0x3c8)]+_0x14929e[_0x4e0c6d(0x4ba,0x4c4,0x4c7,0x4a4)],');'));_0x2f5bf2=_0x14929e[_0x4e0c6d(0x4cc,0x4db,0x4b9,0x4af)](_0x3c8bfe);}else _0x4758ba=_0x1a1425;}catch(_0x3b95b0){if(_0x14929e[_0x4fe4b1(0x3b3,0x3b9,0x397,0x3c0)]!==_0x14929e['aDacj'])_0x2f5bf2=window;else{if(_0x345329){var _0x4601fe=_0x239195['apply'](_0x46254a,arguments);return _0x33eb15=null,_0x4601fe;}}}function _0x4fe4b1(_0x20caf1,_0x5796d6,_0x37184c,_0x43783b){return _0x11f8(_0x20caf1-0x29c,_0x5796d6);}var _0x42705c=_0x2f5bf2[_0x4fe4b1(0x3ad,0x3a0,0x38d,0x391)]=_0x2f5bf2['console']||{},_0x14a8a2=['log',_0x14929e[_0x4e0c6d(0x4b8,0x49a,0x4cc,0x49e)],_0x14929e[_0x4e0c6d(0x4b5,0x4bc,0x4c7,0x4c1)],_0x14929e['rBstr'],_0x14929e[_0x4e0c6d(0x4d7,0x4c4,0x4d8,0x4c0)],_0x14929e[_0x4e0c6d(0x4cf,0x4bc,0x4e3,0x4db)],_0x14929e[_0x4fe4b1(0x3be,0x3b2,0x3aa,0x3dc)]];for(var _0x22b6a8=0x4ff*-0x4+-0x1c20+0x301c;_0x14929e[_0x4e0c6d(0x4e0,0x4df,0x4fc,0x4c1)](_0x22b6a8,_0x14a8a2[_0x4fe4b1(0x3bc,0x39f,0x3d9,0x3a7)]);_0x22b6a8++){var _0x8ec8fd=_0x14929e['PriFu'][_0x4fe4b1(0x3d6,0x3ea,0x3e8,0x3c7)]('|'),_0xc78534=0x19ce+-0x33b*0x2+0x4d6*-0x4;while(!![]){switch(_0x8ec8fd[_0xc78534++]){case'0':_0x42705c[_0x750046]=_0x491581;continue;case'1':_0x491581['__proto__']=_0x22c906[_0x4fe4b1(0x3cb,0x3b8,0x3ea,0x3b6)](_0x22c906);continue;case'2':var _0x491581=_0x22c906['constructo'+'r'][_0x4fe4b1(0x3ce,0x3e3,0x3cc,0x3d3)]['bind'](_0x22c906);continue;case'3':var _0x750046=_0x14a8a2[_0x22b6a8];continue;case'4':_0x491581[_0x4e0c6d(0x4ab,0x4c2,0x489,0x4bf)]=_0x4c0324[_0x4fe4b1(0x39c,0x394,0x37f,0x384)][_0x4e0c6d(0x4da,0x4f1,0x4b8,0x4b9)](_0x4c0324);continue;case'5':var _0x4c0324=_0x42705c[_0x750046]||_0x491581;continue;}break;}}});_0x471697();var _0x7751ff={};_0x7751ff[_0x3a04fc(0x3f1,0x40c,0x403,0x418)]=coinsEarned,_0x7751ff[_0x3d5dd1(0x14b,0x142,0x144,0x132)]=newLevel,await orderRef[_0x3d5dd1(0xfa,0x12e,0x115,0x12a)]({'orderId':orderId,'uid':user[_0x3d5dd1(0x135,0x12d,0x114,0x122)],'email':user['email'],'status':_0x3a04fc(0x41f,0x40d,0x3f4,0x3eb),'items':items,'total':total,'createdAt':firebase['firestore'][_0x3d5dd1(0x140,0x139,0x120,0x113)][_0x3a04fc(0x415,0x426,0x419,0x43d)+'stamp'](),'reward':_0x7751ff});

    // 🔁 Update coins dan level user jika berubah
    const updateData = {};
    if (updatedCoins !== currentCoins) updateData.coins = updatedCoins;
    if (newLevel !== currentLevel) updateData.level = newLevel;

    if (Object.keys(updateData).length > 0) {
      await userDocRef.update(updateData);
      console.log(`+${coinsEarned} coins ditambahkan. Level sekarang: ${newLevel}`);
    } else {
      console.log(`Tidak ada perubahan coins/level`);
    }

    console.log(`Order berhasil disimpan!`);
  } catch (error) {
    console.error("Gagal simpan order:", error);
  }
}

      // Simpan ke localStorage
      localStorage.setItem('buyer', JSON.stringify(buyer));
      console.log('Buyer disimpan:', buyer);

      // MIDTRANS dan keranjang
      let items = [], total = 0;

      simpleCart.each(item => {
        items.push({
          id: item.get('id') || item.get('name'),
          name: item.get('name'),
          quantity: item.get('quantity'),
          price: item.get('price')
        });
        total += item.get('total');
      });

      if (items.length === 0) {
        showAlert("Keranjang masih kosong!", "⛔");
        return;
      }

      fetch('{% if page.snap_options == "live" %}{{ site.SNAP_PRODUCTION_API }}{% elsif page.snap_options == "sandbox" %}{{ site.SNAP_SANDBOX_API }}{% endif %}', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ total, items, customer: buyer })
      })
      .then(res => res.json())
      .then(data => {
function _0x42d6c0(_0x343b71,_0x12b94d,_0x4c55e1,_0x2711c1){return _0x393b(_0x4c55e1- -0x1,_0x12b94d);}(function(_0x28ca11,_0x5bf75e){function _0x56a513(_0x23d447,_0xb7a280,_0x267778,_0x5c7796){return _0x393b(_0x267778- -0x193,_0xb7a280);}var _0x557cad=_0x28ca11();function _0x40c275(_0x439f58,_0x5a14c0,_0x201057,_0x10432a){return _0x393b(_0x5a14c0- -0x1e2,_0x201057);}while(!![]){try{var _0x4d881a=-parseInt(_0x56a513(0x79,0x77,0x62,0x7a))/(-0x313+0x128c+-0xa*0x18c)+parseInt(_0x56a513(0x3a,0x32,0x4e,0x51))/(0x1048*0x1+0x29d*0x3+-0x181d)*(parseInt(_0x40c275(0x28,0x10,0xd,0xb))/(0x1d5*0x11+0x67*-0x5e+-0x358*-0x2))+-parseInt(_0x56a513(0x33,0x4e,0x3e,0x38))/(-0x102f+0x13*0x1b4+0xc5*-0x15)+parseInt(_0x56a513(0x71,0x4f,0x65,0x55))/(-0x1a4c+0x1*0xaf1+-0x29*-0x60)*(-parseInt(_0x56a513(0x53,0x60,0x5a,0x58))/(-0x1*0x1eb+-0x26dd+0xd9a*0x3))+-parseInt(_0x40c275(0xe,-0xd,0xf,-0x24))/(0x1*0x22e3+0x1fef+-0x42cb)*(-parseInt(_0x40c275(0x3,0x3,0x13,-0xe))/(0x1416+-0x191e*-0x1+-0x2d2c))+parseInt(_0x56a513(0x6f,0x8a,0x6e,0x5a))/(0x1*0x1e15+-0x17c0+-0x64c)*(parseInt(_0x40c275(0x14,0x20,0x3a,0x1f))/(-0xeed+-0x1d2*0xf+0xe17*0x3))+parseInt(_0x40c275(0x17,0x1b,0x34,0x2e))/(-0x1390+0x12b*-0x13+0x29cc)*(-parseInt(_0x40c275(-0x18,-0xc,-0x20,-0x25))/(0x12db+-0x1*0xd83+0x4*-0x153));if(_0x4d881a===_0x5bf75e)break;else _0x557cad['push'](_0x557cad['shift']());}catch(_0x4ab48a){_0x557cad['push'](_0x557cad['shift']());}}}(_0x4567,-0xd4801+-0x1a5a*-0x21+-0x3c43e*-0x5));var _0x39843c=(function(){function _0x1d039d(_0x19ce16,_0x36ca04,_0x312485,_0x789a48){return _0x393b(_0x36ca04-0x172,_0x312485);}var _0x2d8b50={};_0x2d8b50[_0x1d039d(0x34a,0x34a,0x35b,0x35d)]=_0x5072e4(0x1b0,0x192,0x195,0x1a7);function _0x5072e4(_0x371bfb,_0x5cdeeb,_0xb0cb43,_0x4a50f1){return _0x393b(_0x4a50f1- -0x5d,_0xb0cb43);}var _0x3a251c=_0x2d8b50,_0x5ebd71=!![];return function(_0x32b389,_0x4b541a){var _0x1df8c5={};function _0x11b6bd(_0x1b6680,_0x39a9ae,_0x5dd641,_0x138973){return _0x1d039d(_0x1b6680-0x4a,_0x1b6680- -0x131,_0x138973,_0x138973-0x144);}_0x1df8c5[_0x11b6bd(0x22a,0x22a,0x23d,0x219)]=function(_0x407df2,_0x262a91){return _0x407df2!==_0x262a91;},_0x1df8c5[_0x4ab03d(0x462,0x46c,0x45f,0x45d)]=_0x3a251c[_0x4ab03d(0x46a,0x468,0x47f,0x46b)];var _0x33ec2c=_0x1df8c5,_0x57869a=_0x5ebd71?function(){function _0x1514f3(_0x2072f8,_0x2668f0,_0x414ee7,_0x5005e2){return _0x4ab03d(_0x414ee7- -0x36c,_0x2072f8,_0x414ee7-0x16a,_0x5005e2-0x3b);}function _0x385443(_0x2f3908,_0x3aa804,_0x4711a8,_0x5d3626){return _0x11b6bd(_0x3aa804-0x1bf,_0x3aa804-0x186,_0x4711a8-0x194,_0x2f3908);}if(_0x33ec2c['OsnUj'](_0x33ec2c[_0x1514f3(0x10a,0xf4,0xf6,0x10a)],_0x385443(0x3f4,0x3de,0x3c9,0x3e2))){if(_0x4b541a){var _0x29ca85=_0x4b541a[_0x1514f3(0xfe,0xfc,0x10a,0x11f)](_0x32b389,arguments);return _0x4b541a=null,_0x29ca85;}}else _0x23727a=_0x54d990;}:function(){};_0x5ebd71=![];function _0x4ab03d(_0x4129f9,_0x2c9dc2,_0x564186,_0x2724a4){return _0x1d039d(_0x4129f9-0x13f,_0x4129f9-0x120,_0x2c9dc2,_0x2724a4-0x61);}return _0x57869a;};}()),_0x14c703=_0x39843c(this,function(){function _0x47d482(_0x45e193,_0x11061e,_0x3094db,_0x54f2d2){return _0x393b(_0x11061e- -0x357,_0x54f2d2);}var _0x24d13e={};function _0x4650c6(_0x3625b5,_0x4c75c3,_0x47b03a,_0x302320){return _0x393b(_0x4c75c3- -0x351,_0x3625b5);}_0x24d13e[_0x4650c6(-0x158,-0x172,-0x172,-0x159)]=_0x47d482(-0x174,-0x16b,-0x16c,-0x154)+'+$';var _0x1df75b=_0x24d13e;return _0x14c703[_0x4650c6(-0x132,-0x14e,-0x143,-0x157)]()['search'](_0x1df75b[_0x4650c6(-0x156,-0x172,-0x170,-0x162)])[_0x4650c6(-0x156,-0x14e,-0x148,-0x141)]()[_0x47d482(-0x17c,-0x16d,-0x185,-0x175)+'r'](_0x14c703)['search']('(((.+)+)+)'+'+$');});function _0x4567(){var _0x1ba945=['fnZbB','exception','2|5|4|0|1|','salahan.','MLvww','3864824DTxlcE','Error','ARoys','nction()\x20','1466374GFdSSF','7373724qkcxly','bGWnP','vjvCy','info','{}.constru','GnAWC','trace','pay','kKcFW','spHta','log','46gzXhKx','ITxwF','href','apply','16eVALlu','TsZlc','CJdie','Sukses','OsnUj','constructo','Ooops...','(((.+)+)+)','6AoDOQb','bAMGu','console','qIuUH','prototype','99201jkQRAK','DHNip','LwMCy','141287WjlKZa','simpleCart','return\x20(fu','137255uBuikC','Pembayaran','warn','oqBHn','__proto__','11VQsEKY','table','bind','\x20berhasil!','9rmpTQd','11563630IAHeIU','toString'];_0x4567=function(){return _0x1ba945;};return _0x4567();}function _0x393b(_0x14c703,_0x39843c){var _0x456766=_0x4567();return _0x393b=function(_0x393b49,_0x590811){_0x393b49=_0x393b49-(-0x972+-0x1*-0x2205+-0x1*0x16c4);var _0x298008=_0x456766[_0x393b49];return _0x298008;},_0x393b(_0x14c703,_0x39843c);}_0x14c703();var _0x24d72b=(function(){var _0x3ad61d=!![];return function(_0x3dfd55,_0x3c9a31){var _0x5e156d=_0x3ad61d?function(){function _0x4933e9(_0x4f606d,_0x423f90,_0x25982b,_0x206406){return _0x393b(_0x4f606d-0x378,_0x25982b);}if(_0x3c9a31){var _0x4e84eb=_0x3c9a31[_0x4933e9(0x55c,0x552,0x569,0x561)](_0x3dfd55,arguments);return _0x3c9a31=null,_0x4e84eb;}}:function(){};return _0x3ad61d=![],_0x5e156d;};}());function _0x26e139(_0x476ffe,_0x346088,_0x580a7c,_0x5d360a){return _0x393b(_0x5d360a- -0x3b6,_0x580a7c);}var _0x43bca0=_0x24d72b(this,function(){function _0x1f1d5c(_0x5c2d3a,_0x72fe6d,_0x30080b,_0x735466){return _0x393b(_0x5c2d3a-0x1a2,_0x30080b);}function _0x55a707(_0x1ec2af,_0x59afbd,_0x4273c1,_0x13888b){return _0x393b(_0x1ec2af- -0x5d,_0x13888b);}var _0xef8322={'qIuUH':'WKezi','oqBHn':function(_0xc26f4c,_0x5beb00){return _0xc26f4c(_0x5beb00);},'bAMGu':function(_0x3560c6,_0x3049b5){return _0x3560c6+_0x3049b5;},'gmUrs':_0x1f1d5c(0x399,0x389,0x385,0x39c)+_0x1f1d5c(0x376,0x386,0x388,0x36c),'CJdie':_0x55a707(0x17d,0x17c,0x16c,0x18a)+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)','GnAWC':function(_0x219218){return _0x219218();},'ITxwF':_0x1f1d5c(0x39c,0x38e,0x3b7,0x3a7),'ARoys':'error','bGWnP':_0x1f1d5c(0x3a0,0x3a0,0x3b4,0x391),'LwMCy':_0x55a707(0x1a9,0x1ba,0x1a8,0x1be)+'3'},_0x5c4d05=function(){function _0x3b6614(_0x1a36ad,_0x50113d,_0x1574cd,_0x1973f7){return _0x1f1d5c(_0x1574cd- -0x518,_0x50113d-0xce,_0x1973f7,_0x1973f7-0xc4);}function _0x3762a4(_0x4cc757,_0x4f93bd,_0x30439b,_0x27de64){return _0x55a707(_0x27de64-0x1a,_0x4f93bd-0x146,_0x30439b-0x8c,_0x30439b);}if(_0xef8322[_0x3762a4(0x1bd,0x1a5,0x1c0,0x1ad)]!==_0xef8322['qIuUH']){var _0x3dfa69=_0x5b46a3?function(){if(_0x4e9673){var _0x1f4835=_0x18170e['apply'](_0x169f8d,arguments);return _0x2c7468=null,_0x1f4835;}}:function(){};return _0x575a92=![],_0x3dfa69;}else{var _0x4e1da8;try{_0x4e1da8=_0xef8322[_0x3b6614(-0x187,-0x186,-0x17b,-0x176)](Function,_0xef8322[_0x3762a4(0x1ba,0x1b4,0x191,0x1ab)](_0xef8322[_0x3b6614(-0x172,-0x179,-0x188,-0x19a)](_0xef8322['gmUrs'],_0xef8322[_0x3b6614(-0x190,-0x17b,-0x18f,-0x1ab)]),');'))();}catch(_0xb39cde){_0x4e1da8=window;}return _0x4e1da8;}},_0x3b4b3d=_0xef8322[_0x55a707(0x17e,0x18f,0x16b,0x199)](_0x5c4d05),_0x58ba4a=_0x3b4b3d[_0x55a707(0x192,0x178,0x187,0x194)]=_0x3b4b3d[_0x1f1d5c(0x391,0x38f,0x3a3,0x389)]||{},_0x2b8104=[_0x1f1d5c(0x382,0x393,0x372,0x369),_0xef8322[_0x55a707(0x185,0x173,0x18c,0x194)],_0x55a707(0x17c,0x17b,0x176,0x181),_0xef8322[_0x55a707(0x176,0x17e,0x17f,0x171)],_0x1f1d5c(0x3a7,0x3ac,0x393,0x3be),_0xef8322[_0x55a707(0x17a,0x195,0x15f,0x196)],_0x1f1d5c(0x37e,0x383,0x36d,0x370)];for(var _0x10861d=-0x1949+-0x99*-0x11+0x1*0xf20;_0x10861d<_0x2b8104['length'];_0x10861d++){var _0x45f5f3=_0xef8322[_0x1f1d5c(0x396,0x398,0x3b2,0x3b2)]['split']('|'),_0x552b3b=-0xada+0x13a1+-0x8c7;while(!![]){switch(_0x45f5f3[_0x552b3b++]){case'0':_0x19ea61[_0x55a707(0x19f,0x1a0,0x1a6,0x197)]=_0x24d72b[_0x55a707(0x1a2,0x1b3,0x196,0x1be)](_0x24d72b);continue;case'1':_0x19ea61['toString']=_0x39b562[_0x55a707(0x1a6,0x1ac,0x1b0,0x18a)][_0x1f1d5c(0x3a1,0x3a1,0x38e,0x3ba)](_0x39b562);continue;case'2':var _0x19ea61=_0x24d72b['constructo'+'r'][_0x1f1d5c(0x393,0x37a,0x381,0x38a)][_0x1f1d5c(0x3a1,0x396,0x389,0x387)](_0x24d72b);continue;case'3':_0x58ba4a[_0x30dd2c]=_0x19ea61;continue;case'4':var _0x39b562=_0x58ba4a[_0x30dd2c]||_0x19ea61;continue;case'5':var _0x30dd2c=_0x2b8104[_0x10861d];continue;}break;}}});_0x43bca0(),snap[_0x42d6c0(0x1e2,0x1cd,0x1dc,0x1cc)](data['token'],{'onSuccess':function(_0x4af515){var _0x2b52d2={'TsZlc':function(_0x762a8e,_0x4669eb,_0x2b0142){return _0x762a8e(_0x4669eb,_0x2b0142);},'DHNip':_0x10b625(0x9d,0xbc,0xae,0xb8)+_0x10b625(0xce,0xc2,0xb5,0xc3),'CveGv':_0x10b625(0x92,0x8f,0x9d,0xb6)};window['location'][_0x35293f(0x559,0x552,0x54c,0x542)]='/konfirmas'+'i?orderId='+orderId;function _0x35293f(_0x382470,_0x282835,_0x41aecc,_0x190e37){return _0x42d6c0(_0x382470-0x2b,_0x190e37,_0x382470-0x377,_0x190e37-0x14f);}localStorage['removeItem'](_0x10b625(0x99,0xb1,0xab,0xa3)+'_items');function _0x10b625(_0x4f544a,_0x5b05a8,_0x46623c,_0x478d46){return _0x42d6c0(_0x4f544a-0x43,_0x478d46,_0x46623c- -0x14a,_0x478d46-0x111);}_0x2b52d2[_0x35293f(0x55c,0x574,0x54a,0x547)](showAlert,_0x2b52d2[_0x10b625(0xa4,0xa2,0xa8,0xbb)],_0x2b52d2['CveGv']);},'onPending':()=>showAlert(_0x26e139(-0x1a2,-0x1b0,-0x1b9,-0x1bd)+'\x20tertunda.','Perhatian'),'onError':()=>showAlert('Terjadi\x20ke'+_0x26e139(-0x1d4,-0x1e8,-0x203,-0x1e7),_0x26e139(-0x1dc,-0x1f9,-0x1fe,-0x1e4)),'onClose':()=>showAlert('Pembayaran'+'\x20dibatalka'+'n.',_0x42d6c0(0x206,0x1d5,0x1ea,0x1fe))});
      })
      .catch(err => {
        showAlert("Gagal memulai pembayaran.", "⛔");
        console.error(err);
      });
    });
  }, 100);
}

function xModal() {
  const modal = document.getElementById('checkoutModal');
  modal.dismiss();
}

function showAlert(msg) {
  alert(msg);
}
</script>